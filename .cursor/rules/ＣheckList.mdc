---
alwaysApply: true
---

# 立ち上げ
- [ ] `make dev` で開発環境が起動している
- [ ] http://127.0.0.1:5100 でアクセス可能
- [ ] ブラウザで動作確認できる
- [ ] pnpmを使用する

# 開発中
- [ ] E2Eテストを先に実装（テストファースト）
- [ ] 1行で記述できる箇所は1行で記述。e.g. if の中に1行しか存在しない場合。
- [ ] ガード句を使用してネストを避ける
- [ ] 1行しか含まない アロー演算子、if文, case文 は1行で実装する
- [ ] **最重要**: 直接色指定（`bg-green-*`, `text-red-*`など）を避け、Semantic色（`severity="success"`など）を使用
- [ ] PrimeVueコンポーネントを積極的に使用する
- [ ] 不要な`console.log`を削除している
- [ ] 適切な型定義を使用している（`any`型を避ける）
- [ ] ファイルが単一責任を持っている
- [ ] `pnpm --filter`よりも`pnpm -F`を使用する（ディレクトリ移動は不要）
- [ ] テスト失敗時、Timeoutや試行回数の増加を解決策にはせず、根本原因を調査・修正する
- [ ] **Fallback禁止**: `something || defaultValue`や`something ?? defaultValue`のようなデフォルト値へのfallbackは原則禁止。必須設定値は明示的にチェックし、未設定の場合はエラーを投げる。設定ミスを隠蔽しない。
- [ ] **環境変数の検証**: `process.env.*`を使用する場合は、必須の場合は未設定時にエラーを投げる。オプショナルな場合のみデフォルト値を使用可（その場合はコメントで理由を明記）。
- [ ] **データの整合性**: `null`や`undefined`を`||`や`??`でデフォルト値に変換する前に、その値が本当にデフォルト値で良いか検討する。データ不整合の可能性がある場合はエラーを投げる。
- [ ] **エラーハンドリング**: エラー情報を`|| 'Unknown'`などで隠蔽しない。エラーオブジェクトは可能な限りそのまま保持し、必要な情報を抽出する。
- [ ] **設定値の明示**: デフォルト値が必要な場合は、設定ファイルや定数として明示的に定義し、コメントで使用理由を記載する。
- [ ] **早期失敗**: 問題が発生した場合は、できるだけ早く失敗（エラーを投げる）して、問題にすぐ気づけるようにする。デフォルト値で処理を続行して問題を隠蔽しない。
- [ ] 仮実装にしている箇所はTODOコメントでその理由を明記し、後で実装を再開しやすいようにする

# テスト
- [ ] 1つのJS Objectを検証するexpectの関数は1つだけ使用する。各パラメータを取り出して検証すると見づらい
- [ ] JS Objectを検証する場合、NumberやStringとの型だけの比較よりも、具体的な値の比較を優先し、期待値が明確なテストにする

# タスク完了/コミット前
- [ ] `make check` が正常終了する
  - [ ] `make build` が正常終了する（型エラー・ビルドエラー0個）
  - [ ] `make format` が正常終了する（リントエラー0個）
  - [ ] `make e2e` が正常終了する（全テスト成功）